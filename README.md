# Anime-Matcher PC (ä¸“ä¸šçº§å‰§é›†æ•´ç†å·¥å…·)

åŸºäº [anime-matcher](https://github.com/pipi20xx/anime-matcher) æ ¸å¿ƒç®—æ³•çš„æ¡Œé¢ç«¯é‡å‘½åä¸æ•´ç†å·¥å…·ã€‚æœ¬é¡¹ç›®é‡‡ç”¨è§£è€¦çš„ç»„ä»¶åŒ–æ¶æ„ï¼Œé›†æˆæœ¬åœ° AI è¯†åˆ«ã€äº‘ç«¯å…ƒæ•°æ®å¯¹æ’åŠé«˜åº¦è‡ªå®šä¹‰çš„è§„åˆ™å¼•æ“ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- **æ¨¡å—åŒ–æ¶æ„**ï¼šUI å®¹å™¨ä¸ä¸šåŠ¡é¡µç­¾ (Main/Settings/Rules) å®Œå…¨è§£è€¦ï¼Œä»£ç æ¸…æ™°æ˜“ç»´æŠ¤ã€‚
- **å…¨è‡ªåŠ¨è¯†åˆ« (L1 + L2)**ï¼š
    - **å†…æ ¸è¯†åˆ« (L1)**ï¼šç²¾å‡†æå–æ–‡ä»¶åä¸­çš„æ ‡é¢˜ã€é›†æ•°ã€åˆ¶ä½œç»„ç­‰åŸå§‹å…ƒæ•°æ®ã€‚
    - **äº‘ç«¯å¯¹æ’ (L2)**ï¼šè”åŠ¨ **TMDB** ä¸ **Bangumi**ï¼Œè‡ªåŠ¨è¡¥å…¨å®˜æ–¹æ ‡é¢˜ã€ä¸Šæ˜ å¹´ä»½ã€è¯„åˆ†åŠåˆ¶ç‰‡å›½å®¶ã€‚
- **è§„åˆ™ç®¡ç†ä¸­å¿ƒ**ï¼šæ”¯æŒæœ¬åœ°è§„åˆ™ä¸è¿œç¨‹è®¢é˜… (GitHub) åŒæ­¥ï¼Œé€šè¿‡ SQLite ç¼“å­˜ç¡®ä¿æé€ŸåŠ è½½ã€‚
- **æ™ºèƒ½é‡å‘½åå¼•æ“**ï¼šæ”¯æŒè¡¥é›¶é€»è¾‘ (`season_02`)ã€è·¯å¾„è‡ªåŠ¨åˆ›å»ºåŠ 22 ä¸ªç»†åˆ†å…ƒæ•°æ®å­—æ®µã€‚
- **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼šæ·±åº¦æ‹–æ‹½æ”¯æŒã€URL è‡ªåŠ¨è§£ç ã€çª—å£å°ºå¯¸ä¸å¸ƒå±€çŠ¶æ€è®°å¿†ã€‚

## ğŸ§© é‡å‘½åå ä½ç¬¦æŒ‡å—

é‡å‘½åæ ¼å¼ï¼ˆæ–‡ä»¶åã€ä¸»æ–‡ä»¶å¤¹ã€å­£æ–‡ä»¶å¤¹ï¼‰æ”¯æŒä»¥ä¸‹æ‰€æœ‰å­—æ®µï¼Œä½¿ç”¨æ—¶è¯·ç”¨èŠ±æ‹¬å·åŒ…è£¹ï¼Œå¦‚ `{title}`ï¼š

### ğŸ§  æœ€ç»ˆå†³ç­–ç»“æœ
| å ä½ç¬¦ | è¯´æ˜ | ç¤ºä¾‹ |
| :--- | :--- | :--- |
| `{title}` | æœ€ç»ˆé‡‡ä¿¡æ ‡é¢˜ (ä¼˜å…ˆä½¿ç”¨äº‘ç«¯/ä¸“å®¶è§„åˆ™ä¿®æ­£) | æ— èŒè½¬ç”Ÿ |
| `{year}` | ä¸Šæ˜ å¹´ä»½ | 2021 |
| `{category}` | åª’ä½“åˆ†ç±» | å‰§é›† / ç”µå½± |
| `{season}` | æœ€ç»ˆå†³å®šçš„å­£åº¦æ•°å­— | 1 |
| `{season_02}` | å­£åº¦æ•°å­—è¡¥é›¶ | 01 |
| `{episode}` | æœ€ç»ˆå†³å®šçš„é›†æ•°æˆ–èŒƒå›´ | 13 æˆ– 01-12 |
| `{episode_02}` | é›†æ•°æ•°å­—è¡¥é›¶ | 05 |
| `{team}` | æœ€ç»ˆç¡®å®šçš„åˆ¶ä½œå°ç»„ | Airota |
| `{resolution}` | æœ€ç»ˆè¯†åˆ«çš„åˆ†è¾¨ç‡ | 1080p |
| `{video_encode}` | æœ€ç»ˆè§†é¢‘ç¼–ç  | x265 |
| `{video_effect}` | è§†é¢‘ç‰¹æ•ˆ | HDR / Dolby Vision |
| `{audio_encode}` | æœ€ç»ˆéŸ³é¢‘ç¼–ç  | FLAC / AAC |
| `{subtitle}` | æœ€ç»ˆå­—å¹•è¯­è¨€ | CHS / CHT |
| `{source}` | æœ€ç»ˆèµ„æºæ¥æº | WEB-DL / BluRay |
| `{platform}` | æœ€ç»ˆå‘å¸ƒå¹³å° | B-Global / Netflix |
| `{origin_country}` | åˆ¶ç‰‡å›½å®¶ | æ—¥æœ¬ / ä¸­å›½ |
| `{release_date}` | æ­£å¼ä¸Šæ˜ /å‘å¸ƒæ—¥æœŸ | 2021-01-10 |
| `{tmdb_id}` | TMDB å”¯ä¸€è¯†åˆ«ç  | 123456 |
| `{secondary_category}` | äºŒçº§åˆ†ç±»å…¨è·¯å¾„ | æ—¥æ¼«/çƒ­è¡€ |
| `{main_category}` | ä¸»äºŒçº§åˆ†ç±» (ä»…å–ç¬¬ä¸€é¡¹) | æ—¥æ¼« |
| `{filename}` | **æ¸…æ´—å**çš„åŸå (ä¸å«åç¼€) | [Airota] Mushoku No.11 |
| `{original_filename}`| **åŸå§‹**å®Œæ•´æ–‡ä»¶å (å«åç¼€) | [Airota] Mushoku No.11.mkv |
| `{processed_name}` | **æ¸²æŸ“å**åŸå (ç”±ä¸“å®¶è§„åˆ™é‡å‘½åå) | æ— èŒè½¬ç”Ÿ ç¬¬11è¯ |
| `{path}` | æ–‡ä»¶æ‰€åœ¨çš„åŸå§‹å®Œæ•´è·¯å¾„ | D:\Anime\... |

## ğŸ—ï¸ ç›®å½•ç»“æ„

```text
/
â”œâ”€â”€ main.py                 # ç¨‹åºå¯åŠ¨å…¥å£
â”œâ”€â”€ VideoRenamer_Qt6.ini    # ç”¨æˆ·é…ç½® (è‡ªåŠ¨ç”Ÿæˆ)
â”œâ”€â”€ VideoRenamer.db         # æœ¬åœ°è§„åˆ™æ•°æ®åº“ (è‡ªåŠ¨ç”Ÿæˆ)
â”œâ”€â”€ data/                   # æ ¸å¿ƒç®—æ³•ç”Ÿæˆçš„ç¼“å­˜ç›®å½•
â”‚   â””â”€â”€ matcher_storage.db  # æ ¸å¿ƒå…ƒæ•°æ®ç¼“å­˜ä¸æŒ‡çº¹è®°å¿†
â”œâ”€â”€ anime-matcher-main/     # æ ¸å¿ƒç®—æ³•åº“ (å¤–éƒ¨å¯¼å…¥/è‡ªåŠ¨ä¸‹è½½)
â””â”€â”€ src/
    â”œâ”€â”€ gui/                # UI å±‚ (MainTab, SettingsTab, RuleManager)
    â”œâ”€â”€ core/               # ä¸šåŠ¡é€»è¾‘å±‚ (Processor, Renamer, Rules)
    â””â”€â”€ utils/              # å·¥å…·å±‚ (Paths, Config, Placeholders)
```

## ğŸš€ å¿«é€Ÿä¸Šæ‰‹

1. **å®‰è£…ç¯å¢ƒ**ï¼šPython 3.10+ï¼Œæ‰§è¡Œ `pip install PyQt6 requests regex peewee`ã€‚
2. **ä¸‹è½½å†…æ ¸**ï¼šå¯åŠ¨ç¨‹åº -> è®¾ç½®ä¸ç®—æ³• -> ç‚¹å‡» **â€œè‡ªåŠ¨ä¸‹è½½/æ›´æ–°â€**ã€‚
3. **é…ç½®è”ç½‘**ï¼šåœ¨è®¾ç½®ä¸­å¡«å…¥ **TMDB API Key** (v3) å¹¶è®¾ç½®ä»£ç†ã€‚
4. **å¼€å§‹æ•´ç†**ï¼šæ‹–å…¥æ–‡ä»¶ -> é¢„è§ˆé‡å‘½å -> æ‰§è¡Œé‡å‘½åã€‚

## ğŸ“¦ æ‰“åŒ… EXE
```bash
pyinstaller --noconfirm --onedir --windowed ^
  --add-data "src/utils/placeholders.json;src/utils" ^
  --name "AnimeProRenamer" ^
  main.py
```

---
*æœ¬é¡¹ç›®ç”± Gemini CLI ååŠ©è¿›è¡Œæ¨¡å—åŒ–é‡æ„ä¸åŠŸèƒ½å¢å¼ºã€‚*
